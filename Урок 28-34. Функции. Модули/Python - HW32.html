<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python - HW32</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #333333 0%, #404040 57%, #363636 100%);
      color: #fff;
      font-family: "Inter", sans-serif;
      margin: 0px;
    }

    .container {
      display: flex;
      flex-direction: row;
    }

    .sidebar {
      width: 240px;
      height: 280px;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-sizing: border-box;
      position: sticky;
      top: 0;
    }

    .sidebar img {
      height: 240px;
      width: 240px;
    }

    .sidebar #copyrights {
      background: linear-gradient(to right, #343434 0%, #363636 100%);
      -webkit-background-clip: text;
      color: transparent;
    }

    .right-block {
      flex: 1;
      width: 70%;
      gap: 50px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      padding: 50px 25px 50px 0;
      margin: 10px;
    }

    .right-rect {
      background-color: rgba(38, 38, 38, 0.75);
      box-shadow: 10px 10px 15px rgba(0, 0, 0, 0.6);
      padding: 30px 25px;
      border-radius: 10px;
    }

    .right-rect h2,
    .right-rect .hl-text {
      margin: 0;
      color: #FFC000;
    }

    .right-rect h3 {
      margin-top: 40px;
      margin-bottom: 0px;
      color: #FFC000;
    }

    .console {
      background-color: #1E1F22;
      border-radius: 5px;
      margin-top: 10px;
      position: relative;
    }

    p {
      margin-top: 15px;
      margin-bottom: 0px;
    }

    pre {
      white-space: pre-wrap;
      white-space: pre;
      overflow-x: auto;
      word-wrap: normal;
      padding: 20px 10px;
    }

    .console .input {
      color: #6AAB73;
      font-style: italic;
    }

    code {
      font-family: "JetBrains mono", monospace;
      color: #BCBEC4;
    }

    .copy-button {
      position: absolute;
      top: 5px;
      right: 5px;
      padding: 5px 10px;
      background-color: #FFC000;
      color: #1E1F22;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: "JetBrains mono", monospace;
      font-weight: bold;
    }

    .string {
      color: #6AAB73;
      font-family: "JetBrains mono", monospace;
    }

    .string-bracket,
    .string-esc,
    .keyword {
      color: #CF8E6D;
      font-family: "JetBrains mono", monospace;
    }

    .self {
      color: #94558D;
      font-family: "JetBrains mono", monospace;
    }

    .string-bracket-inner {
      color: #BCBEC4;
      font-family: "JetBrains mono", monospace;
    }

    .number {
      color: #2AACB8;
      font-family: "JetBrains mono", monospace;
    }

    .comments {
      color: #7A7E85;
      font-family: "JetBrains mono", monospace;
    }

    .metadata {
      color: #B3AE60;
      font-family: "JetBrains mono", monospace;
    }

    .built-in {
      color: #8888C6;
      font-family: "JetBrains mono", monospace;
    }

    .function {
      color: #56A8F5;
      font-family: "JetBrains mono", monospace;
    }

    .special-names {
      color: #B200B2;
      font-family: "JetBrains mono", monospace;
    }

    .keyword-argument {
      color: #AA4926;
      font-family: "JetBrains mono", monospace;
    }

    ol {
      counter-reset: list;
      list-style: none;
      padding-left: 0;
      margin-bottom: 0;
    }

    ol li {
      counter-increment: list;
      position: relative;
      padding-left: 1.2em;
      padding-bottom: 1.2em;
    }

    ol li::before {
      content: counter(list) ". ";
      position: absolute;
      left: 0;
      color: #FFC000;
      font-weight: bold;
    }

    .grey {
      color: #BCBEC4;
      font-family: "JetBrains mono", monospace;
    }

    .no-padding-bottom {
      padding-bottom: 0;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="sidebar">
      <img src="https://i.imgur.com/S9prf0J.png" alt="STEP IT Academy">
      <p id="copyrights">© Фикрет Зейналов, 2024</p>
    </div>
    <div class="right-block">
      <div class="right-rect">
        <h2><strong>Примечание</strong></h2>
        <p>Используйте только то, что было пройденно до этого урока включительно. Не используйте в условии оператор <code class="python"><b>in</b></code>. Не используйте готовые методы, только если в заданиях не говорится об использовании тех или иных методов. Не используйте срезы.</p>
      </div>
      <div class="right-rect">
        <h2>Домашнее Задание 32.1</h2>
        <p>На работе у <span class="hl-text">Teston Lebra</span> произошёл наплыв ботов, из-за чего появилось много фейковых аккаунтов. В этой системе аккаунт это список следующего вида:</p>
        <p><code><b>[<span class="string">"Логин"</span>, <span class="string">"Пароль"</span>, <span class="string">"Имя"</span>, <span class="string">"Фамилия"</span>, <span class="number">&ltбаланс_аккаунта_в_виде_числа&gt</span>, <span class="string">"Идентификатор"</span>, <span class="keyword">&ltстатус_True_или_False&gt</span>, <span class="string">"Дата"</span>]</b></code></p>
        <p>Напишите следующие функции:</p>
        <ol>
          <li><code><b><span class="function">check_user</span>(account, deep_check)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span> и значение <code class="python"><b>True</b></code> или <code class="python"><b>False</b></code>. Вызывает функцию <code><b><span class="function">get_check_list</span></b></code>, передав ей <code><b>deep_check</b></code>, сохраняет её результат в <code><b>check_list</b></code>, проходится по функциям из полученного списка и вызывает их, передав <code><b>account</b></code>. Если хоть одна из функций вернёт <code class="python"><b>False</b></code>, то дальнейшие проверки прерываются. Если проверки были прерваны, то <code><b><span class="function">check_user</span></b></code> должен <span class="hl-text">вернуть</span> <code class="python"><b>False</b></code>. В противном случае должен <span class="hl-text">вернуть</span> <code class="python"><b>True</b></code>.
          </li>
          <li><code><b><span class="function">get_check_list</span>(deep_check)</b></code>
            <br>Принимает значение <code class="python"><b>True</b></code> или <code class="python"><b>False</b></code>. Если принял <code class="python"><b>True</b></code>, то помещает в список все функции, указанные ниже. В противном случае помещает в список только функции <span class="function"><b>check_id</b></span>, <span class="function"><b>check_ban</b></span> и <span class="function"><b>check_balance</b></span>. Затем <span class="hl-text">возвращает полученный список</span>.
          </li>
          <li><code><b><span class="function">check_password</span>(account)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span>, проверяет пароль. Если он пустой, то <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>. В противном случае <span class="hl-text">возвращает</span> <code class="python"><b>True</b></code>.
          </li>
          <li><code><b><span class="function">check_name</span>(account)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span>, проверяет имя и фамилию. Если они состоят только из символов алфавита, то <span class="hl-text">возвращает</span> <code class="python"><b>True</b></code>. В противном случае <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>.
          </li>
          <li><code><b><span class="function">сheck_balance</span>(account)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span>, проверяет баланс. Если он меньше нуля или больше <code class="python"><b>25000</b></code>, то <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>. В противном случае <span class="hl-text">возвращает</span> <code class="python"><b>True</b></code>.
          </li>
          <li><code><b><span class="function">check_id</span>(account)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span>, проверяет идентификатор. Если длина идентификатора не равна <code class="python"><b>8</b></code>-и символам, то <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>. В противном случае <span class="hl-text">возвращает</span> <code class="python"><b>True</b></code>.
          </li>
          <li class="no-padding-bottom"><code><b><span class="function">сheck_ban</span>(account)</b></code>
            <br>Принимает аккаунт в виде <span class="hl-text">списка</span>, проверяет правильность бана. Если в статусе стоит <code class="python"><b>False</b></code>, а дата не пустая, то <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>. Также <span class="hl-text">возвращает</span> <code class="python"><b>False</b></code>, если в статусе <code class="python"><b>True</b></code>, а дата пустая. В противном случае <span class="hl-text">возвращает</span> <code class="python"><b>True</b></code>.
          </li>
        </ol>
        <h3>Подсказки:</h3>
        <ol>
          <li>Для проверки имени и фамилии используйте метод <code><b>isalpha()</b></code>. Этот метод возвращает <code class="python"><b>True</b></code>, если строка состоит только из символов алфавита, и <code class="python"><b>False</b></code> в противном случае.</li>
          <li class="no-padding-bottom">Для тестирования можете использовать следующий код:<div class="console">
              <button class="copy-button" onclick="copyCode(this)"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="none" viewBox="0 0 24 24" class="icon-sm">
                  <path fill="currentColor" fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z" clip-rule="evenodd"></path>
                </svg>
                Copy code</button>
              <pre><code class="python">account_list = [
    ["root", "5869", "Teston", "Lebra", 15000, "LeTeston", False, ""],
    ["jane_doe", "", "Jane", "Doe", 50.25, "78901283", False, ""],
    ["admin", "admin", "admin", "admin", 999999, "admin999", True, "2024-04-25"],
    ["not_imposter", "qwerty12345", "not_imposter", "Олег", 10.75, "13570092", False, ""],
    ["hskfskt34i2", "amjq35hfg", "gkasbmdgae", "beeef45asd", 0.0, "90876504", False, ""],
    ["superuser", "superpass123", "Super", "User", 500.75, "246810", False, ""],
    ["guest", "guestpass", "Guest", "User", 0.0, "10101010", True, ""],
    ["poweruser", "powerpass", "Power", "User", 100.0, "12121212", False, "2024-04-22"]
]

for account in account_list:
    print(check_user(account, True))  # True, False, False, False, False, False, False, False
print()
for account in account_list:
    print(check_user(account, False))  # True, True, False, True, True, False, False, False</code></pre>
            </div>
          </li>
        </ol>
      </div>
      <div class="right-rect">
        <h2>Домашнее Задание 32.2</h2>
        <p>Создайте рекурсивную функцию, которая <span class="hl-text">вычисляет сумму чисел списка</span>.</p>

        <h3>Подсказка:</h3>
        <p>Функция принимает список чисел и количество чисел.</p>
      </div>
      <div class="right-rect">
        <h2>Домашнее Задание 32.3</h2>
        <p><span class="hl-text">Teston Lebra</span> написал код, который зашифровывает текст по ключу. Переделайте код так, чтобы <span class="hl-text">переменные</span> <code><b>input_str</b></code>, <code><b>key_str</b></code>, <code><b>key_digits_str</b></code>, <code><b>key_int</b></code>, <code><b>encrypted_str</b></code> <span class="hl-text">не использовались вообще</span>, а сама программа <span class="hl-text">занимала одну строчку</span>. Функции изменять <span class="hl-text">не нужно</span>. Также оставьте максимально подробные комментарии по работе функций - <span class="hl-text">что принимают</span>, <span class="hl-text">что используют для своей работы</span>, <span class="hl-text">как работают</span>, <span class="hl-text">что возвращают</span>.</p>

        <h3>Код:</h3>
        <div class="console">
          <button class="copy-button" onclick="copyCode(this)"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="none" viewBox="0 0 24 24" class="icon-sm">
              <path fill="currentColor" fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z" clip-rule="evenodd"></path>
            </svg>
            Copy code</button>
          <pre><code class="python">from sys import maxunicode

def alpha_to_num(obj_str: str):
    return "".join(symb if symb.isdigit() else str(ord(symb)) for symb in obj_str)


def encrypt_str(obj_str: str, key: int):
    return "".join(chr((ord(symb) - ord('a') + key) % (maxunicode + 1) + ord('a')) for symb in obj_str)


input_str = input("Введите строку для зашифрования: ")
key_str = input("Введите ключ шифрования: ")
key_digits_str = alpha_to_num(key_str)
key_int = int(key_digits_str)
encrypted_str = encrypt_str(input_str, key_int)
print(encrypted_str)</code></pre>
        </div>
      </div>
    </div>
  </div>
  <script>
    function copyCode(button) {
      var codeBlock = button.nextElementSibling.querySelector('code');
      var range = document.createRange();
      range.selectNode(codeBlock);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand('copy');
      window.getSelection().removeAllRanges();
      changeCopyButton(button);
    }

    function changeCopyButton(button) {
      var originalHTML = button.innerHTML;
      button.innerHTML = `
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.0633 5.67375C18.5196 5.98487 18.6374 6.607 18.3262 7.06331L10.8262 18.0633C10.6585 18.3093 10.3898 18.4678 10.0934 18.4956C9.79688 18.5234 9.50345 18.4176 9.29289 18.2071L4.79289 13.7071C4.40237 13.3166 4.40237 12.6834 4.79289 12.2929C5.18342 11.9023 5.81658 11.9023 6.20711 12.2929L9.85368 15.9394L16.6738 5.93664C16.9849 5.48033 17.607 5.36263 18.0633 5.67375Z" fill="currentColor"></path></svg>Copied!
    `;
      setTimeout(function() {
        button.innerHTML = originalHTML;
      }, 2000);
    }
    document.addEventListener('DOMContentLoaded', function() {
      const codeBlocks = document.querySelectorAll('code.python');
      codeBlocks.forEach(function(codeBlock, index) {
        let innerHTML = codeBlock.innerHTML;
        console.log(index, innerHTML);
        // STRING
        let regex = /(?<!\\)(f?"[^"\\]*(?:\\.[^"\\]*)*")/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="string">${match}</span>`;
        });
        regex = /(?<!\\)(f?'[^'\\]*(?:\\.[^'\\]*)*')/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="string">${match}</span>`;
        });
        // KEYWORD CLASS
        regex = /(class)(?!=)/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="keyword">${match}</span>`;
        });
        // KEYWORDS
        const keywords = [
          'def', 'for', 'in', 'while', 'and', 'or', 'not',
          'if', 'elif', 'else', 'continue', 'break', 'try', 'with',
          'as', 'except', 'finally', 'return', 'True', 'False', 'from', 'import'
        ];
        regex = new RegExp(`\\b(${keywords.join('|')})\\b`, 'g');
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="keyword">${match}</span>`;
        });
        // KEYWORD NUMBER
        regex = /\b\d+(\.\d+)?/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="number">${match}</span>`;
        });
        // STRING-ESC
        regex = /\\./g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="string-esc">${match}</span>`;
        });
        // COMMENTS
        regex = /(#.*$)/gm;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="comments">${match}</span>`;
        });
        // METADATA
        regex = /^(\s*@\w+)/gm;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="metadata">${match}</span>`;
        });
        // SELF
        regex = /\bself\b/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="self">${match}</span>`;
        });
        // BUILT-IN
        regex = /\b(open|print|input|int|float|str|list|set|dict|range|len|sum|min|max)\b/g;
        innerHTML = innerHTML.replace(regex, (match) => {
          return `<span class="built-in">${match}</span>`;
        });
        // FUNCTION
        regex = /(<span class="keyword">def<\/span>)\s(\w+)\(/g;
        innerHTML = innerHTML.replace(regex, '$1 <span class="function">$2</span>(');
        // SPECIAL-NAMES
        regex = /(<span class="function">)(__\w+__)(<\/span>)/g;
        innerHTML = innerHTML.replace(regex, '$1<span class="special-names">$2</span>$3');
        // KEYWORD-ARGUMENT
        regex = /, (end|sep)=/g;
        innerHTML = innerHTML.replace(regex, ', <span class="keyword-argument">$1</span>=');
        codeBlock.innerHTML = innerHTML
      });
    });
  </script>
</body>